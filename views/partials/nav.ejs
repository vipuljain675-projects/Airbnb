<header id="main-header" class="fixed-top bg-white border-bottom transition-all" style="z-index: 1030;">
  
  <div class="container-fluid px-4 px-md-5 d-flex justify-content-between align-items-center" style="height: 80px; max-width: 1760px;">

    <a href="/" class="text-decoration-none d-flex align-items-center col-4">
      <svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" style="height: 32px; fill: #FF385C; display: block;"><path d="M16 1c2.008 0 3.463.963 4.751 3.269l.533 1.025c1.954 3.83 6.114 12.54 7.1 14.836l.145.353c.667 1.591.91 3.162.726 4.692-.246 2.05-1.453 4.192-3.313 5.877-1.2.088-2.615.534-4.158 1.178-1.544.644-2.88 1.09-3.784 1.17l-.5.01-.005-.5c-.01-1.028-.434-2.37-1.266-4.008l-.208-.403c-.233-.44-.48-1.004-.75-1.688l-.205-.516c-.287-.72-.563-1.41-.8-2.02l-.242-.614c-.03-.075-.058-.15-.084-.223-.024-.068-.048-.135-.07-.202-.02-.057-.038-.112-.056-.165l-.014-.04c-.365-1.03-.687-1.93-1.123-3.153L11.3 17.4c-1.111-3.18-2.083-5.91-2.92-8.204-.836-2.293-1.436-3.868-1.782-4.665l-.086-.197C5.97 3.238 7.394 2.188 9.294 1.54l.504-.15c1.168-.314 2.65-.54 4.298-.636l.462-.024L16 1zm0 2c-1.393 0-2.73.186-3.953.535l-.427.13C10.51 2.146 9.68 2.87 9.073 4.02l-.123.242c.328.756.915 2.308 1.742 4.576.828 2.268 1.79 4.972 2.89 8.12l.275.776c.445 1.25.775 2.17 1.144 3.21l.015.04.056.166.07.203.084.223.243.614c.237.608.513 1.3.8 2.02l.205.516c.27.684.516 1.247.748 1.686l.209.404c.732 1.44 1.106 2.623 1.127 3.513.86-.09 2.147-.514 3.633-1.134 1.488-.62 2.85-1.05 3.998-1.146 1.465-1.328 2.42-2.96 2.617-4.58.152-1.256-.05-2.54-.59-3.83l-.145-.353c-.97-2.257-5.06-10.8-6.974-14.55l-.533-1.025C19.066 3.193 17.828 2.52 16.326 2.9l-.326.098zM16 12c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 2c1.105 0 2 .895 2 2s-.895 2-2 2-2-.895-2-2 .895-2 2-2z" fill="#FF385C"></path></svg>
      <span class="d-none d-lg-block fw-bold text-danger ms-1 fs-5">airbnb</span>
    </a>

    <div class="col-4 d-flex justify-content-center">
        
        <div id="nav-center-links" class="d-none d-md-flex align-items-center justify-content-center gap-4 transition-fade">
            <a href="/" class="nav-tab-link active">
                <div class="icon-wrapper">
                    <svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="presentation" focusable="false" style="display: block; height: 20px; width: 20px; fill: currentcolor;"><path d="M16 1L1 16h3v15h9v-9h6v9h9V16h3L16 1zm0 2.83l12 12V28h-5v-9h-14v9H4V15.83l12-12z"></path></svg>
                </div>
                <span>Homes</span>
            </a>
            <a href="#" class="nav-tab-link">
                <div class="icon-wrapper">
                    <svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="presentation" focusable="false" style="display: block; height: 20px; width: 20px; fill: currentcolor;"><path d="M16 2a9 9 0 0 1 9 9c0 4.1-3 8.3-9 12.4C10 19.3 7 15.1 7 11a9 9 0 0 1 9-9zm0 2a7 7 0 0 0-7 7c0 3.1 2.2 6.4 7 9.9 4.8-3.5 7-6.8 7-9.9a7 7 0 0 0-7-7z"></path><path d="M16 26c-1.1 0-2 .9-2 2v2h4v-2c0-1.1-.9-2-2-2z"></path></svg>
                </div>
                <span>Experiences</span>
            </a>
            <a href="#" class="nav-tab-link">
                <div class="icon-wrapper">
                    <svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="presentation" focusable="false" style="display: block; height: 20px; width: 20px; fill: currentcolor;"><path d="M28 26h-1v-2c0-3.3-2.7-6-6-6h-2.1c1.2-1.6 1.9-3.6 1.9-5.8 0-4.6-3.4-8.4-7.8-8.9V2h-2v1.3C6.4 3.8 3 7.6 3 12.2c0 2.2.7 4.2 1.9 5.8H2.8c-3.3 0-6 2.7-6 6v2H28zm-2-2c0-2.2-1.8-4-4-4h-2.1c.8 1.8 1.2 3.8 1.2 6H21c0-2.2 1.8-4 4-4h1v2zm-12-9.8c3.3 0 6 2.7 6 6 .1 2.2-.4 4.2-1.2 6H9.2c-.8-1.8-1.3-3.8-1.2-6 0-3.3 2.7-6 6-6z"></path></svg>
                </div>
                <span>Services</span>
            </a>
        </div>

        <div id="mini-search-bar" class="mini-search-shadow border rounded-pill py-2 px-3 align-items-center gap-3 cursor-pointer d-none transition-fade" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
            <span class="fw-bold small ps-2">Anywhere</span>
            <span class="text-muted opacity-25">|</span>
            <span class="fw-bold small">Any week</span>
            <span class="text-muted opacity-25">|</span>
            <span class="text-secondary small">Add guests</span>
            <div class="bg-primary rounded-circle d-flex align-items-center justify-content-center" style="width: 32px; height: 32px; background-color: #FF385C !important;">
                <svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" style="fill: white; height: 12px; width: 12px; stroke: white; stroke-width: 5;"><g fill="none"><path d="m13 24c6.0751322 0 11-4.9248678 11-11 0-6.07513225-4.9248678-11-11-11-6.07513225 0-11 4.92486775-11 11 0 6.0751322 4.92486775 11 11 11zm8-3 9 9"></path></g></svg>
            </div>
        </div>

    </div>

    <div class="d-flex align-items-center justify-content-end gap-2 col-4">
      
      <% if (isAuthenticated) { %>
        <a href="/bookings" class="btn btn-link text-dark text-decoration-none fw-bold rounded-pill px-3 hover-effect small">Trips</a>
        <a href="/favourite-list" class="btn btn-link text-dark text-decoration-none fw-bold rounded-pill px-3 hover-effect small">Saved</a>
      <% } %>

      <a href="/host" class="btn btn-link text-dark text-decoration-none fw-bold rounded-pill px-3 hover-effect small d-none d-md-block">Switch to Host</a>

      <button class="btn btn-link text-dark rounded-circle p-2 hover-effect d-flex align-items-center justify-content-center" 
              style="width: 40px; height: 40px;"
              data-bs-toggle="modal" 
              data-bs-target="#languageModal">
          <svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" style="height: 16px; width: 16px; fill: currentcolor;"><path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0zm0 1.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13zM2.08 7.5h3.09a10.05 10.05 0 0 1 .46-3.83A6.5 6.5 0 0 1 2.08 7.5zm.36 1h2.77a10.05 10.05 0 0 1-.46 3.83A6.5 6.5 0 0 1 2.44 8.5zm11.12 0h2.77a6.5 6.5 0 0 1-3.23 3.83 10.05 10.05 0 0 1-.46-3.83h.92zm.36-1h-3.09a10.05 10.05 0 0 1-.46-3.83 6.5 6.5 0 0 1 3.55 3.83zm-6.86-3.86a8.55 8.55 0 0 0-.64 3.86h3.16a8.55 8.55 0 0 0-.64-3.86A5.48 5.48 0 0 0 8 2.63a5.48 5.48 0 0 0-.94 1.01zm-1.12 4.86a8.55 8.55 0 0 0 .64 3.86A5.48 5.48 0 0 0 8 13.37a5.48 5.48 0 0 0 .94-1.01 8.55 8.55 0 0 0 .64-3.86H6.94z"></path></svg>
      </button>

      <div class="dropdown">
          <div class="user-menu-pill border shadow-sm p-1 ps-2 d-flex align-items-center gap-2 rounded-pill" data-bs-toggle="dropdown" style="cursor: pointer;">
            <svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" style="display: block; fill: none; height: 16px; width: 16px; stroke: currentcolor; stroke-width: 3; overflow: visible;"><g fill="none" fill-rule="nonzero"><path d="m2 16h28"></path><path d="m2 24h28"></path><path d="m2 8h28"></path></g></svg>
            <div class="bg-secondary text-white rounded-circle d-flex align-items-center justify-content-center fw-bold" style="width: 30px; height: 30px; font-size: 0.8rem;">
              <% if (isAuthenticated) { %><%= user.firstName.charAt(0) %><% } else { %><i class="bi bi-person-fill"></i><% } %>
            </div>
          </div>
          
          <ul class="dropdown-menu dropdown-menu-end shadow-lg border-0 rounded-4 mt-2 p-3">
             <% if (isAuthenticated) { %>
                <li><span class="dropdown-header fw-bold">Hi, <%= user.firstName %></span></li>
                <li><hr class="dropdown-divider"></li>
                <li><a class="dropdown-item py-2 fw-bold" href="/bookings">My Trips</a></li>
                <li><a class="dropdown-item py-2 fw-bold" href="/favourite-list">Wishlist</a></li>
                <li><hr class="dropdown-divider"></li>
                <li><a class="dropdown-item py-2" href="/host/host-home-list">Manage Listings</a></li>
                <li><a class="dropdown-item py-2 position-relative" href="/host/manage-bookings">
                    Handle Requests <span class="badge bg-danger rounded-circle p-1 ms-1" style="font-size: 0.5rem; vertical-align: top;">‚óè</span>
                </a></li>
                <li><a class="dropdown-item py-2" href="/host/add-home">Add New Home</a></li>
                <li><hr class="dropdown-divider"></li>
                <li>
                  <form action="/logout" method="POST" class="m-0"><button class="dropdown-item text-danger fw-bold py-2">Log out</button></form>
                </li>
             <% } else { %>
                <li><a class="dropdown-item fw-bold py-2" href="/login">Log in</a></li>
                <li><a class="dropdown-item py-2" href="/signup">Sign up</a></li>
             <% } %>
          </ul>
      </div>
    </div>
  </div>

  <div id="big-search-container" class="w-100 d-flex justify-content-center pb-3 big-search-transition" style="padding-right: 80px; transform-origin: top;">
    <div class="border rounded-pill shadow-sm d-flex align-items-center bg-white" style="width: 100%; max-width: 650px; border-color: #dddddd !important; height: 64px;">
        <form action="/search" method="GET" class="d-flex w-100 align-items-center h-100">
            <div class="px-4 h-100 d-flex flex-column justify-content-center flex-grow-1 border-end position-relative hover-bg-gray rounded-pill-start" style="cursor: pointer;">
                <label class="d-block fw-bold text-dark mb-0" style="font-size: 0.75rem;">Where</label>
                <input type="text" name="location" class="form-control border-0 bg-transparent shadow-none p-0 text-dark text-truncate" placeholder="Search destinations" style="font-size: 0.9rem;">
            </div>
            <div class="px-3 h-100 d-flex flex-column justify-content-center border-end position-relative hover-bg-gray" style="width: 140px; cursor: pointer;">
                <label class="d-block fw-bold text-dark mb-0" style="font-size: 0.75rem;">Check-in</label>
                <input type="text" name="checkIn" class="form-control border-0 bg-transparent shadow-none p-0 text-muted" placeholder="Add dates" onfocus="(this.type='date')" onblur="(this.type='text')" style="font-size: 0.9rem;">
            </div>
            <div class="px-3 h-100 d-flex flex-column justify-content-center position-relative hover-bg-gray" style="width: 140px; cursor: pointer;">
                <label class="d-block fw-bold text-dark mb-0" style="font-size: 0.75rem;">Check-out</label>
                <input type="text" name="checkOut" class="form-control border-0 bg-transparent shadow-none p-0 text-muted" placeholder="Add dates" onfocus="(this.type='date')" onblur="(this.type='text')" style="font-size: 0.9rem;">
            </div>
            <div class="pe-2">
                <button type="submit" class="btn rounded-circle d-flex align-items-center justify-content-center shadow-sm" style="background: #FF385C; border: none; width: 48px; height: 48px;">
                    <svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" style="display: block; fill: none; height: 16px; width: 16px; stroke: white; stroke-width: 4; overflow: visible;"><g fill="none"><path d="m13 24c6.0751322 0 11-4.9248678 11-11 0-6.07513225-4.9248678-11-11-11-6.07513225 0-11 4.92486775-11 11 0 6.0751322 4.92486775 11 11 11zm8-3 9 9"></path></g></svg>
                </button>
            </div>
        </form>
    </div>
  </div>

</header>

<div class="modal fade" id="languageModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable">
    <div class="modal-content rounded-4 shadow-lg" style="height: 85vh;">
      <div class="modal-header border-bottom-0 p-3">
        <button type="button" class="btn-close ms-2 mt-2" data-bs-dismiss="modal" aria-label="Close"></button>
        <h5 class="fw-bold ms-3 mt-2">Choose a language and region</h5>
      </div>
      <div class="modal-body px-5 py-2">
        
        <div class="alert alert-light border rounded-3 small mb-4">
            <i class="bi bi-info-circle-fill me-1"></i> Currency will update automatically based on your region.
        </div>

        <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-3">
            
            <div class="col">
                <button onclick="setLanguage('en', 'USD', 86)" class="btn w-100 text-start py-2 px-3 rounded-3 border-dark hover-bg-light" style="border: 1px solid #dddddd;">
                    <div class="small fw-bold">English</div><div class="text-muted" style="font-size: 0.8rem;">United States (USD)</div>
                </button>
            </div>

            <div class="col">
                <button onclick="setLanguage('hi', 'INR', 1)" class="btn w-100 text-start py-2 px-3 rounded-3 hover-bg-light">
                    <div class="small fw-bold">Hindi</div><div class="text-muted" style="font-size: 0.8rem;">India (INR)</div>
                </button>
            </div>

            <div class="col">
                <button onclick="setLanguage('de', 'EUR', 92)" class="btn w-100 text-start py-2 px-3 rounded-3 hover-bg-light">
                    <div class="small fw-bold">Deutsch</div><div class="text-muted" style="font-size: 0.8rem;">Deutschland (EUR)</div>
                </button>
            </div>

            <div class="col">
                <button onclick="setLanguage('es', 'EUR', 92)" class="btn w-100 text-start py-2 px-3 rounded-3 hover-bg-light">
                    <div class="small fw-bold">Espa√±ol</div><div class="text-muted" style="font-size: 0.8rem;">Espa√±a (EUR)</div>
                </button>
            </div>

            <div class="col">
                <button onclick="setLanguage('ar', 'AED', 23)" class="btn w-100 text-start py-2 px-3 rounded-3 hover-bg-light">
                    <div class="small fw-bold">Arabic</div><div class="text-muted" style="font-size: 0.8rem;">UAE (AED)</div>
                </button>
            </div>

        </div>
      </div>
    </div>
  </div>
</div>

<style>
    /* NUCLEAR OPTION TO HIDE GOOGLE TOP BAR */
    iframe.goog-te-banner-frame { display: none !important; }
    body { position: static !important; top: 0px !important; }
    .goog-te-gadget-simple { display: none; }
    .hover-bg-light:hover { background-color: #f7f7f7; }

    /* AIRBNB TAB LINKS */
    .nav-tab-link {
        display: flex;
        align-items: center;
        gap: 8px;
        padding: 10px 12px;
        color: #717171;
        text-decoration: none;
        font-weight: 500;
        font-size: 0.95rem;
        background: transparent;
        border-radius: 30px;
        transition: all 0.2s ease;
        opacity: 0.7;
    }

    .nav-tab-link:hover {
        opacity: 1;
        background-color: #f7f7f7;
        color: #222222;
    }

    .nav-tab-link.active {
        color: #000000;
        opacity: 1;
        font-weight: 600;
    }

    .nav-tab-link.active svg { fill: #000000; }
    .nav-tab-link:not(.active) svg { fill: #717171; }
    .nav-tab-link:hover svg { fill: #222222; }

    /* üü¢ ANIMATION CLASSES (NEW) */
    .transition-fade { transition: opacity 0.2s ease, display 0.2s allow-discrete; }
    .big-search-transition { transition: all 0.2s ease-out; overflow: hidden; }
    .mini-search-shadow { box-shadow: 0 1px 2px rgba(0,0,0,0.08), 0 4px 12px rgba(0,0,0,0.05); border: 1px solid #DDDDDD; transition: box-shadow 0.2s; }
    .mini-search-shadow:hover { box-shadow: 0 2px 4px rgba(0,0,0,0.18); }
    .cursor-pointer { cursor: pointer; }
    
    /* When Scrolled: Hide Big Search, Show Mini Search */
    body.is-scrolled #nav-center-links { display: none !important; }
    body.is-scrolled #mini-search-bar { display: flex !important; }
    body.is-scrolled #big-search-container { 
        height: 0px !important; 
        opacity: 0; 
        padding-bottom: 0 !important; 
        transform: scaleY(0); 
    }

</style>

<div id="google_translate_element" style="display:none"></div>

<script type="text/javascript">
    function googleTranslateElementInit() {
      new google.translate.TranslateElement({pageLanguage: 'en'}, 'google_translate_element');
    }
    
    function setLanguage(langCode, currencyCode, rateFromINR) {
        document.cookie = "googtrans=/en/" + langCode + "; path=/";
        localStorage.setItem("userCurrency", currencyCode);
        localStorage.setItem("userRate", rateFromINR);
        window.location.reload();
    }

    document.addEventListener("DOMContentLoaded", function() {
        const currency = localStorage.getItem("userCurrency") || 'INR';
        const rate = parseFloat(localStorage.getItem("userRate")) || 1;

        if (currency !== 'INR') {
            const treeWalker = document.createTreeWalker(document.body, NodeFilter.SHOW_TEXT);
            while(node = treeWalker.nextNode()) {
                if (node.nodeValue && node.nodeValue.includes('‚Çπ')) {
                    node.nodeValue = node.nodeValue.replace(/‚Çπ\s*(\d+(?:,\d+)*)/g, function(match, price) {
                         let numericPrice = parseFloat(price.replace(/,/g, ''));
                         let converted = Math.round(numericPrice / rate);
                         let symbol = '';
                         if(currency === 'USD') symbol = '$';
                         else if(currency === 'EUR') symbol = '‚Ç¨';
                         else if(currency === 'AED') symbol = 'AED ';
                         return symbol + converted.toLocaleString();
                    });
                }
            }
        }

        // üü¢ SCROLL ANIMATION LOGIC (NEW)
        window.addEventListener('scroll', function() {
            if (window.scrollY > 50) {
                document.body.classList.add('is-scrolled');
            } else {
                document.body.classList.remove('is-scrolled');
            }
        });
    });
</script>
<script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>