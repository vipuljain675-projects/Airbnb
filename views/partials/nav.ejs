<nav class="navbar navbar-expand-lg navbar-light bg-white border-bottom sticky-top">
  <div class="container">

    <!-- Logo -->
    <a class="navbar-brand d-flex align-items-center" href="/">
      <span class="text-danger fw-bold fs-4">airbnb</span>
    </a>

    <!-- Search Bar (UI only for now) -->
    <div class="d-none d-md-block flex-grow-1 mx-5">
      <div class="input-group shadow-sm border rounded-pill overflow-hidden">
        <input
          type="text"
          class="form-control border-0 shadow-none ps-4"
          placeholder="Search destinations"
        >
        <button
          class="btn btn-danger rounded-circle m-1 d-flex align-items-center justify-content-center"
          style="width: 36px; height: 36px;"
          type="button"
        >
          <i class="bi bi-search text-white"></i>
        </button>
      </div>
    </div>

    <!-- Mobile Toggle -->
    <button
      class="navbar-toggler"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#navbarContent"
    >
      <span class="navbar-toggler-icon"></span>
    </button>

    <!-- Right Side -->
    <div class="collapse navbar-collapse justify-content-end" id="navbarContent">
      <ul class="navbar-nav align-items-center gap-2">

        <!-- Always Visible -->
        <li class="nav-item">
          <a class="nav-link fw-semibold" href="/homes">Homes</a>
        </li>

        <% if (isAuthenticated) { %>

          <!-- Logged-in Links -->
          <li class="nav-item">
            <a class="nav-link fw-semibold" href="/bookings">Trips</a>
          </li>

          <li class="nav-item">
            <a class="nav-link fw-semibold" href="/favourite-list">Saved</a>
          </li>

          <!-- Switch to Host (SMART ENTRY POINT) -->
          <li class="nav-item">
            <a
              href="/host"
              class="btn btn-light rounded-pill border px-3 fw-semibold"
            >
              Switch to Host
            </a>
          </li>

          <!-- Logout -->
          <li class="nav-item">
            <form action="/logout" method="POST">
              <button
                class="btn btn-outline-danger btn-sm rounded-pill px-3"
                type="submit"
              >
                Logout
              </button>
            </form>
          </li>

        <% } else { %>

          <!-- Logged-out Links -->
          <li class="nav-item">
            <a class="nav-link fw-semibold" href="/login">Log in</a>
          </li>

          <li class="nav-item">
            <a
              class="btn btn-dark rounded-pill px-3 fw-semibold"
              href="/signup"
            >
              Sign up
            </a>
          </li>

          <!-- Allow switching to host even if logged out -->
          <li class="nav-item">
            <a
              href="/host"
              class="btn btn-light rounded-pill border px-3 fw-semibold"
            >
              Switch to Host
            </a>
          </li>

        <% } %>

      </ul>
    </div>

  </div>
</nav>
